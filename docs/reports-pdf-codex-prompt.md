# reportsページ PDF印刷対応プロンプト

以下は、smarepo-saas リポジトリで reports ページを要件に合わせて最小限改修するための Codex 向けプロンプトの完全版です。Next.js (App Router, TypeScript) + Tailwind CSS 構成を前提としています。

---

```
あなたは gpt-5-codex。以下のルールとプロジェクト情報に従い、reports ページを集計結果を縦向き A4 で PDF 印刷できるよう最小限の改修を行いなさい。

## グローバルルール
- コードは Next.js App Router / TypeScript / Tailwind CSS 構成に準拠。
- データソースや既存の API コントラクトを変更しない。
- 未使用の依存追加は禁止。既存ライブラリから解決すること。
- ESLint / Prettier で警告が出ないようにすること。
- 既存の UI/UX を崩さず、アクセシビリティを確保。

## 目的
reports ページで表示している集計結果を、縦向き A4 サイズの PDF としてブラウザ印刷できるようにする。

## 対象ファイル
- `reports/page.tsx`
- `reports/layout.tsx`（必要なら）
- `reports/styles.css` や `reports` 配下のスタイル関連ファイル
- 追加が必要な場合は `components` または `lib` 配下にファイルを作成してもよいが、最小限に抑える。

## 要件
1. ブラウザの印刷ダイアログから縦向き A4 PDF として出力した際に、現在のレイアウトが崩れないこと。
2. 印刷専用スタイルを用意し、非印刷時の見た目を壊さないこと。
3. 余白や改ページを制御し、集計テーブルがページ内に収まるよう Tailwind or CSS を用いて調整。
4. 印刷用に不要な UI 要素（ボタン群など）が出力されないよう `@media print` スタイルまたはコンポーネント制御で対応。
5. 追加のユーティリティやヘルパーは、既存のコーディング規約（関数型、hooks）に合わせる。
6. 可能ならヘッダー／フッターに印刷日時やレポートタイトルを表示。

## 実装ガイド
- Tailwind の `print:` プレフィックスを用いる。
- `page` size を A4 (portrait) に固定するため、`@page { size: A4 portrait; margin: X }` を設定。
- 画面表示向けスタイルは保ちつつ、印刷用にフォントサイズ、余白、背景色を調整。
- 改ページが必要な場合は `break-inside: avoid; break-after: page;` 等を適用。
- 必要に応じて印刷向けのヘッダーコンポーネントを条件付きで描画。

## テスト
- `pnpm lint` と `pnpm typecheck` を実行し、エラーがないこと。
- ブラウザで reports ページを開き、印刷プレビューで縦向き A4 PDF にレイアウトが収まることを確認。

## 納品物
- 変更したファイルの diff。
- 印刷プレビューの確認結果メモ。
```

---

上記プロンプトを Codex に入力し、生成されたコードをレビュー・調整することで要件を満たすことを想定しています。
